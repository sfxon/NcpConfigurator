{% sw_extends '@Storefront/storefront/page/product-detail/index.html.twig' %}

 {% block base_pseudo_modal %}
     {{ parent() }}

{#     {{ dump(page.product.extensions.ncp_configurator) }}#}

     {% if page.product.extensions.ncp_configurator.ProductName !== "" %}

         <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#configuratorModal"
                 onclick="onConfigureClick();">
             Jetzt konfigurieren
         </button>

         <div class="modal fade" id="configuratorModal" tabindex="-1" role="dialog"
              aria-labelledby="configuratorModalLabel"
              aria-hidden="true">
             <div class="modal-dialog modal-lg" role="document">
                 <div class="modal-content">

                     <div class="modal-header" id="modalConfiguratorHeader">
                         <div id="configuratorHeaderInfo"
                              data-media="{{ page.product.extensions.ncp_configurator.arrMounting optionMedia|json_encode }}">
                             <div class="configurator-thumbnail">
                                 <img id="configuratorImage"
                                      src=""
                                      class="product-image is-standard"
                                      alt="{{ page.product.translated.name }}"
                                      title="{{ page.product.translated.name }}">
                             </div>
                             <div class="configurator-name-price-outer">
                                 <div class="configurator-header-name">
                                     {{ page.product.translated.name }}
                                 </div>
                                 <div class="configurator-header-price"
                                      data-base-price="{{ page.product.calculatedPrice.unitPrice|currency }}">
                                     {{ page.product.calculatedPrice.unitPrice|currency }}
                                 </div>
                             </div>
                         </div>
                         <div class="card-header product-configurator-tab-navigation">
                             <ol class="nav nav-tabs tab-navigation-list" id="tabs" role="tablist">

                                 <li class="nav-item" onmousedown="onMouseDownMenu('dimension')">
                                     <a class="step-link " id="tab-dimension" data-toggle="tab"
                                        href="#tab-pane-dimension" role="tab" aria-controls="tab-pane-dimension"
                                        aria-selected="true">
                                         <span class="step-label">Balkonmaße <br/>eingeben</span>
                                     </a>
                                 </li>

                                 <li class="nav-item" onmousedown="onMouseDownMenu('summary')">
                                     <a class="step-link " id="tab-summary" data-toggle="tab"
                                        href="#tab-pane-summary" role="tab" aria-controls="tab-pane-summary"
                                        aria-selected="true">
                                         <span class="step-label">Konfiguration <br/>abschließen</span>
                                     </a>
                                 </li>
                             </ol>
                         </div>
                         <button type="button" class="close" data-dismiss="modal" id="closeConfiguratorModal"
                                 aria-label="Close">
                             {% sw_icon 'x' style {'pack':'bogner'} %}
                         </button>
                     </div>

                     <div class="modal-body">
                         {% include('storefront/page/product-detail/ncp_configurator/modal-dialog.html.twig') %}
                     </div>
                 </div>
             </div>
         </div>
     {% endif %}
 {% endblock %}


